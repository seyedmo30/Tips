
# NETWORK

## nat


لپ تاپ ما یه آی پی داره که توی روتر فقط معنی داره مثل 192.168.1.100 ولی وقتی درخواست می خواد به به اینترنت وصل شه باید Network address translation اتفاق بیفته یعنی پابلیک آی پی که  - isp - مخابرات به ما داده درخواست بکنه ، پاسخ که اومد با nat  دوباره به کامپیوتر داده بشه ، در حقیقت با nat میشه درخواست به بیرون داده یا پاسخ رو گرفت


اگر یک شبکه ی پرایویت داشته باشیم و همه ی آن ها از طریق یک IP static به اینترنت وصل شوند ، در این صورت از نت استفاده کردیم .


به منظور ایجاد یک NAT (Network Address Translation) برای ترافیک شبکه، می‌توان از دستور `iptables` در لینوکس استفاده کرد. این دستور به شما امکان می‌دهد تا
 قوانین ترافیک شبکه را تعریف و مدیریت کنید.
 برای پیکربندی NAT، می‌توان از دستورات زیر استفاده کرد:
 + فعال کردن NAT
 iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
 + ترافیک ورودی به پورت 80 را به پورت 8000 هدایت کن
 iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j REDIRECT --to-ports 8000

### dns over https (doh)

چون udp  دیکیریپت و انکریپت نمیشه ، می تونیم بعضی از درخواست ها رو با یه dns  خاص بندازیم تا رمزنگاری بکنه

+ dmz

توی روتر ها می تونیم آدرسی ست کنیم که از بیرون ًابل مشاهده باشه

با این که isp  یا مخابرات آدرس ثابت نمی ده ولی همون آیپی شاید ۲ روز ثابت باشه ، اگر این آی پی رو کال کنیم ، تا روتر میاد و اگر این قابلیت رو کانفیگ کنیم ، می تونیم از بیرون کامپیوتر خودمون رو ببنیم


