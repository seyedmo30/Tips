# ci/cd

![Description of the image](https://github.com/seyedmo30/Tips/blob/main/static/cicd.png)


سروان یه پروژه زده که هر ریپوزیتوری بخواد توسط argocd زیر نظر گرفته بشه ، باید اینجا رجیستر بشه اسمش `GitOps` هست.

اگر بخواهیم درون کانتینر گیلب ، یه داکر بیلد کنیم ، دسترسی نداریم ، به این منظور از **kaniko** استفاده می کنیم و کارش اینه که با استفاده از **docker engine** مستقر در ماشین ، کانتینر های **cicd** رو بسازه و و در صورت خطا  برگراعلام کنه

در صورتی که روی برنچ فیچر پوش بزنیم اتفاقی نمی افته اما اگه روی  **dev**  بزنیم یه ایمیج جدید بیلد میشه ، همچنین هر برنچ ، مثل مستر یا استیج ، یه لاجیک داره

# logs

بر روی هر نود - ماشین - باید **filebeat** رو نصب کنیم و لاگ ها رو به **logstash** بدیم توجه شود داده های کلیدی باید ماسک شوند




